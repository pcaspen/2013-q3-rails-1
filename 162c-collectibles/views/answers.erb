<% if params[:commit] == "Answer 1" %>
  <% episode_name = params[:episode_name] %>
  <% episode_id = Episode.where(name: episode_name).first.id %>
  <% Collectible.where(episode_id: episode_id).each do |collectible| %>
    <%= collectible.name %><br> 
  <% end %>	
<% end %>

<% if params[:commit] == "Answer 2" %>
  <% name_part = params[:collectible_name_part] %>
  <% Collectible.where("name ilike ?", "%#{name_part}%").all.each do |collectible| %>
    <%= collectible.name %><br>
  <% end %>
<% end %>

<% if params[:commit] == "Answer 3" %>
  <% Collectible.all.each do |collectible| %>
    <% category_id = collectible.category_id %>
    <% category_name = Category.where(id: category_id).first %>
  	<%= collectible.name %>, <%= category_name.name %><br>
  <% end %>	
<% end %>

<% if params[:commit] == "Answer 4" %>
  <% early_episodes = Episode.where("year < 1990").all %>
  <% early_episodes.each do |episode| %>
    <% Collectible.where(episode_id: episode.id).all.each do |collectible| %>
      <%= collectible.name %><br>
    <% end %>  
  <% end %>
<% end %>